import{a as O}from"./chunk-3E2XEZQ5.js";import{a as q}from"./chunk-KACECMBE.js";import{a as I,b as _,c as w,d as A,f as M,h as j,i as D,o as R,q as G}from"./chunk-WMSCIBPS.js";import{a as T}from"./chunk-VR3MZZWK.js";import{a as E}from"./chunk-ZH3L7T54.js";import{k as N,o as C}from"./chunk-MLHW3EEE.js";import{$ as b,Ba as s,Ca as l,Oa as v,Ra as a,S as c,Ta as o,Ua as r,Va as p,Vb as F,Xa as h,Ya as S,Zb as u,aa as d,db as m,e as V,lb as x}from"./chunk-5XN3BUNB.js";var g=V(q());function P(e,i){e&1&&(o(0,"div",14),m(1," Name is required "),r())}function L(e,i){if(e&1&&(o(0,"button",15),m(1," Create Category "),r()),e&2){let t=S();a("disabled",t.categoryForm.invalid)}}function z(e,i){e&1&&(o(0,"div",16)(1,"div",17)(2,"span",18),m(3,"Loading..."),r()()())}var f=class e{constructor(i,t,n){this.fb=i;this.categoryService=t;this.router=n}categoryForm;categorySubscription;loading=!1;ngOnInit(){this.categoryForm=this.fb.group({name:["",[_.required]]})}createCategory(){if(this.categoryForm.valid){let i=this.categoryForm.value;this.loading=!0,this.categorySubscription=this.categoryService.createCategory(i).subscribe({next:t=>{g.default.fire("Success","Category created successfully!","success").then(()=>{this.categoryForm.reset(),this.router.navigate(["/listCategories"])})},error:t=>{t.status===400&&t.error.error?g.default.fire("Error","Duplicate category name!","error"):g.default.fire("Error","Something went wrong!","error")},complete:()=>{this.loading=!1}})}else return}get name(){return this.categoryForm.get("name")}isNameEmpty(){return this.name?.invalid&&this.name?.touched}ngOnDestroy(){this.categorySubscription&&this.categorySubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(l(R),l(O),l(N))};static \u0275cmp=b({type:e,selectors:[["app-add-category"]],standalone:!0,features:[x],decls:20,vars:4,consts:[[1,"container-fluid","p-0"],[1,"row","no-gutters"],[1,"col-12"],[1,"col-2"],[1,"col-10",2,"margin-top","70px"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","categoryName",1,"form-label"],[1,"col-md-6"],["id","categoryName","type","text","formControlName","name","placeholder","Enter category name",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center"],["type","submit","class","btn btn-success","style","width: 200px; background-color: #4CAF50; border: none;",3,"disabled",4,"ngIf"],["class","d-flex justify-content-center align-items-center","style","width: 200px; height: 40px;",4,"ngIf"],[1,"text-danger"],["type","submit",1,"btn","btn-success",2,"width","200px","background-color","#4CAF50","border","none",3,"disabled"],[1,"d-flex","justify-content-center","align-items-center",2,"width","200px","height","40px"],["role","status",1,"spinner-border","text-success",2,"width","24px","height","24px"],[1,"visually-hidden"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),p(3,"app-navbar"),r()(),o(4,"div",1)(5,"div",3),p(6,"app-admin-sidebar"),r(),o(7,"div",4)(8,"h2"),m(9,"Create New Category"),r(),o(10,"form",5),h("ngSubmit",function(){return n.createCategory()}),o(11,"div",6)(12,"label",7),m(13,"Category Name"),r(),o(14,"div",8),p(15,"input",9),r(),v(16,P,2,0,"div",10),r(),o(17,"div",11),v(18,L,2,1,"button",12)(19,z,4,0,"div",13),r()()()()()),t&2&&(s(10),a("formGroup",n.categoryForm),s(6),a("ngIf",n.isNameEmpty()),s(2),a("ngIf",!n.loading),s(),a("ngIf",n.loading))},dependencies:[E,T,G,M,I,w,A,j,D,u,F],styles:["input[_ngcontent-%COMP%]::selection{background-color:#009024;color:#fff}"]})};var H=[{path:"",component:f}],y=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=d({type:e});static \u0275inj=c({imports:[C.forChild(H),C]})};var B=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=d({type:e});static \u0275inj=c({imports:[u,y]})};export{B as AddCategoryModule};
