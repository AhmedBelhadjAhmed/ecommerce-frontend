import{a as q}from"./chunk-KACECMBE.js";import{a as E,b as h,c as j,d as R,f as D,h as O,i as G,o as A,q as T}from"./chunk-WMSCIBPS.js";import{a as N}from"./chunk-HGUX4EP4.js";import{a as I}from"./chunk-ZH3L7T54.js";import{k as M,o as d}from"./chunk-MLHW3EEE.js";import{$ as y,Ba as l,Ca as p,Oa as F,Ra as s,S as c,Ta as i,Ua as n,Va as w,Vb as x,Xa as S,Ya as C,Zb as f,aa as u,db as a,e as V,g as P,lb as _}from"./chunk-5XN3BUNB.js";var g=V(q());function L(e,r){e&1&&(i(0,"div",11),a(1," A valid email is required. "),n())}function z(e,r){if(e&1&&(i(0,"button",12),a(1," Send Reset Email "),n()),e&2){let t=C();s("disabled",t.forgetPasswordForm.invalid)}}function H(e,r){e&1&&(i(0,"div",13)(1,"div",14)(2,"span",15),a(3,"Loading..."),n()()())}var b=class e{constructor(r,t,o){this.fb=r;this.authService=t;this.router=o;this.forgetPasswordForm=this.fb.group({email:["",[h.required,h.email]]})}forgetPasswordForm;loading=!1;subscriptions=new P;onSubmit(){if(this.forgetPasswordForm.invalid){g.default.fire("Error","Please enter a valid email","error");return}this.loading=!0;let r=this.forgetPasswordForm.get("email")?.value,t=this.authService.forgetPassword({email:r}).subscribe({next:o=>{this.loading=!1,g.default.fire("Success","Password reset email sent successfully","success").then(()=>this.router.navigate(["reset"])),this.forgetPasswordForm.reset()},error:o=>{this.loading=!1,g.default.fire("Error",o.error?.error||"Failed to send reset email","error")}});this.subscriptions.add(t)}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(t){return new(t||e)(p(A),p(N),p(M))};static \u0275cmp=y({type:e,selectors:[["app-forget-password"]],standalone:!0,features:[_],decls:14,vars:4,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4",2,"width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","email"],["id","email","formControlName","email","type","email","placeholder","Enter your email",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"d-grid"],["type","submit","class","btn btn-primary custom-button",3,"disabled",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],[1,"text-danger"],["type","submit",1,"btn","btn-primary","custom-button",3,"disabled"],[1,"d-flex","justify-content-center","align-items-center"],["role","status",1,"spinner-border","text-success"],[1,"visually-hidden"]],template:function(t,o){if(t&1&&(w(0,"app-navbar"),i(1,"div",0)(2,"div",1)(3,"h2",2),a(4,"Forgot Password"),n(),i(5,"form",3),S("ngSubmit",function(){return o.onSubmit()}),i(6,"div",4)(7,"label",5),a(8,"Email"),n(),w(9,"input",6),F(10,L,2,0,"div",7),n(),i(11,"div",8),F(12,z,2,1,"button",9)(13,H,4,0,"div",10),n()()()()),t&2){let m;l(5),s("formGroup",o.forgetPasswordForm),l(5),s("ngIf",((m=o.forgetPasswordForm.get("email"))==null?null:m.invalid)&&((m=o.forgetPasswordForm.get("email"))==null?null:m.touched)),l(2),s("ngIf",!o.loading),l(),s("ngIf",o.loading)}},dependencies:[I,f,x,T,D,E,j,R,O,G,d],styles:[".custom-button[_ngcontent-%COMP%]{background-color:#0b9310}.custom-button[_ngcontent-%COMP%]:hover{background-color:#45a049}input[_ngcontent-%COMP%]::selection{background-color:#009024;color:#fff}[_ngcontent-%COMP%]::selection{background-color:#5c615c;color:#fff}"]})};var J=[{path:"",component:b}],v=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=u({type:e});static \u0275inj=c({imports:[d.forChild(J),d]})};var B=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=u({type:e});static \u0275inj=c({imports:[f,v]})};export{B as ForgetPasswordModule};
