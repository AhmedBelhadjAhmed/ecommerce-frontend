import{a as ee}from"./chunk-KACECMBE.js";import{a as f}from"./chunk-B5HR5V7T.js";import{a as c}from"./chunk-HGUX4EP4.js";import{a as Z}from"./chunk-ZH3L7T54.js";import{b as H,c as k,d as L,e as B,f as z,g as G,h as V,j as Y,k as u,n as q}from"./chunk-MLHW3EEE.js";import{$ as M,Ab as j,B as m,Da as T,Ea as D,Fa as N,Ia as x,Mb as _,P as R,R as s,U as F,Va as O,W as a,X as S,ca as P,e as Q,i as A,lb as U,oa as w,p as C,t as h,va as E}from"./chunk-5XN3BUNB.js";var W=Q(ee());var n=class t{constructor(r,e,o){this.authService=r;this.usersService=e;this.router=o}canActivate(){let r=this.authService.extractIdFromToken();return r?this.usersService.getUserById(r).pipe(h(e=>e.role==="admin"?!0:(this.router.navigate(["/client"]),!1)),m(e=>(console.error("Error fetching user:",e),typeof localStorage<"u"&&localStorage.clear(),W.default.fire({icon:"error",title:"Token Expired",text:"Your session has expired. Please log in again.",confirmButtonText:"OK"}).then(()=>{this.router.navigate(["/login"])}),C(!1)))):(this.router.navigate(["/login"]),C(!1))}static \u0275fac=function(e){return new(e||t)(a(c),a(f),a(u))};static \u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})};var p=class t{constructor(r,e,o){this.authService=r;this.usersService=e;this.router=o}canActivate(){let r=this.authService.extractIdFromToken();return r?this.usersService.getUserById(r).pipe(h(e=>e.role==="client"?!0:(this.router.navigate(["/admin"]),!1)),m(e=>(console.error("Error fetching user:",e),this.router.navigate(["/login"]),new A(o=>o.next(!1))))):(this.router.navigate(["/login"]),new A(e=>e.next(!1)))}static \u0275fac=function(e){return new(e||t)(a(c),a(f),a(u))};static \u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})};var X=[{path:"",redirectTo:"our-products",pathMatch:"full"},{path:"nav",component:Z},{path:"our-products",loadChildren:()=>import("./chunk-UQNQEQKW.js").then(t=>t.OurProductsModule)},{path:"register",loadChildren:()=>import("./chunk-JY3X4ZJE.js").then(t=>t.RegisterModule)},{path:"login",loadChildren:()=>import("./chunk-6L6TCFLF.js").then(t=>t.LoginModule)},{path:"forget",loadChildren:()=>import("./chunk-PIA2RHAE.js").then(t=>t.ForgetPasswordModule)},{path:"reset",loadChildren:()=>import("./chunk-VPEJN4M7.js").then(t=>t.ResetPasswordModule)},{path:"admin",loadChildren:()=>import("./chunk-ZVNEN27N.js").then(t=>t.AdminModule),canActivate:[n]},{path:"client",loadChildren:()=>import("./chunk-5PXPMFA5.js").then(t=>t.ClientModule),canActivate:[p]},{path:"sidebar",loadChildren:()=>import("./chunk-6G2L6POI.js").then(t=>t.AdminSidebarModule),canActivate:[n]},{path:"listCategories",loadChildren:()=>import("./chunk-67BYAY3O.js").then(t=>t.ListCategoriesModule),canActivate:[n]},{path:"listProducts",loadChildren:()=>import("./chunk-DEVABFBL.js").then(t=>t.ListProductsModule),canActivate:[n]},{path:"listUsers",loadChildren:()=>import("./chunk-M6WAWK7J.js").then(t=>t.ListUsersModule),canActivate:[n]},{path:"listFavorites",loadChildren:()=>import("./chunk-6SR24UTT.js").then(t=>t.ListFavoritesModule),canActivate:[n]},{path:"addCategory",loadChildren:()=>import("./chunk-EULQZUHY.js").then(t=>t.AddCategoryModule),canActivate:[n]},{path:"updateCategory/:id",loadChildren:()=>import("./chunk-JSRTPW23.js").then(t=>t.UpdateCategoryModule),canActivate:[n]},{path:"addProduct",loadChildren:()=>import("./chunk-RFCU4SSL.js").then(t=>t.AddProductsModule),canActivate:[n]},{path:"detailsProduct/:id",loadChildren:()=>import("./chunk-4TCN73MH.js").then(t=>t.DetailsProductModule),canActivate:[n]},{path:"clientFavorite/:id",loadChildren:()=>import("./chunk-UTPTRULF.js").then(t=>t.ClientFavoriteModule),canActivate:[p]},{path:"clientUpdate/:id",loadChildren:()=>import("./chunk-MWVZBS35.js").then(t=>t.ClientUpdateModule),canActivate:[p]},{path:"ClientDetailsProduct/:id",loadChildren:()=>import("./chunk-4TJGTQWX.js").then(t=>t.ClientDetailsProductModule)},{path:"updateProduct/:id",loadChildren:()=>import("./chunk-L37ME6QZ.js").then(t=>t.UpdateProductsModule),canActivate:[n]},{path:"**",redirectTo:"our-products"}];var oe="@",ie=(()=>{class t{constructor(e,o,i,l,d){this.doc=e,this.delegate=o,this.zone=i,this.animationType=l,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=S(D,{optional:!0}),this.loadingSchedulerFn=S(ne,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-57DJ34XH.js").then(i=>i),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(e):o=e(),o.catch(i=>{throw new R(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:l})=>{this._engine=i(this.animationType,this.doc);let d=new l(this.delegate,this._engine,this.zone);return this.delegate=d,d})}createRenderer(e,o){let i=this.delegate.createRenderer(e,o);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let l=new b(i);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let J=d.createRenderer(e,o);l.use(J),this.scheduler?.notify(10)}).catch(d=>{l.use(i)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(o){T()}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac})}}return t})(),b=class{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,this.replay!==null){for(let e of this.replay)e(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,e){this.delegate.appendChild(r,e)}insertBefore(r,e,o,i){this.delegate.insertBefore(r,e,o,i)}removeChild(r,e,o){this.delegate.removeChild(r,e,o)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,o,i){this.delegate.setAttribute(r,e,o,i)}removeAttribute(r,e,o){this.delegate.removeAttribute(r,e,o)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,o,i){this.delegate.setStyle(r,e,o,i)}removeStyle(r,e,o){this.delegate.removeStyle(r,e,o)}setProperty(r,e,o){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(r,e,o)),this.delegate.setProperty(r,e,o)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,o){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(r,e,o)),this.delegate.listen(r,e,o)}shouldReplay(r){return this.replay!==null&&r.startsWith(oe)}},ne=new F("");function I(t="animations"){return x("NgAsyncAnimations"),P([{provide:N,useFactory:(r,e,o)=>new ie(r,e,o,t),deps:[_,z,w]},{provide:E,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var g=class t{constructor(r){this.authService=r}intercept(r,e){let o=this.authService.getToken();if(o){let i=r.clone({setHeaders:{Authorization:`Bearer ${o}`}});return e.handle(i)}return e.handle(r)}static \u0275fac=function(e){return new(e||t)(a(c))};static \u0275prov=s({token:t,factory:t.\u0275fac})};var $={providers:[j({eventCoalescing:!0}),q(X),V(),I(),k(B(),L()),I(),{provide:H,useClass:g,multi:!0}]};var y=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=M({type:t,selectors:[["app-root"]],standalone:!0,features:[U],decls:1,vars:0,template:function(e,o){e&1&&O(0,"router-outlet")},dependencies:[Y]})};G(y,$).catch(t=>console.error(t));
